<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="agd-partner-manual-verification" />
    <title>iPhone 17 ì‚¬ì „ì˜ˆì•½ ë¹„êµ</title>
    <style>/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary: #2563eb;
    --primary-hover: #1d4ed8;
    --secondary: #64748b;
    --success: #10b981;
    --danger: #ef4444;
    --warning: #f59e0b;
    
    --gray-50: #f8fafc;
    --gray-100: #f1f5f9;
    --gray-200: #e2e8f0;
    --gray-300: #cbd5e1;
    --gray-400: #94a3b8;
    --gray-500: #64748b;
    --gray-600: #475569;
    --gray-700: #334155;
    --gray-800: #1e293b;
    --gray-900: #0f172a;
    
    --white: #ffffff;
    --black: #000000;
    
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    
    --radius-sm: 4px;
    --radius: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    background-color: var(--gray-50);
    color: var(--gray-900);
    line-height: 1.6;
    font-size: 14px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
}

/* Global Navigation */
.global-nav {
    background-color: var(--white);
    border-bottom: 1px solid var(--gray-200);
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: var(--shadow-sm);
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
}

.nav-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--gray-900);
}

.platform-tabs {
    display: flex;
    gap: 4px;
}

.platform-tab {
    padding: 8px 16px;
    border-radius: var(--radius);
    font-size: 14px;
    font-weight: 500;
    color: var(--gray-600);
    background-color: transparent;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.platform-tab:hover {
    color: var(--gray-900);
    background-color: var(--gray-100);
}

.platform-tab.active {
    color: white;
    background-color: var(--primary);
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(37, 99, 235, 0.3);
    transform: translateY(-1px);
}

/* Update Banner */
.update-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 16px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.update-content {
    display: flex;
    align-items: center;
    gap: 12px;
}

.update-icon {
    font-size: 20px;
    animation: spin 2s linear infinite;
}

.update-text {
    color: white;
}

.update-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 2px;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.update-time {
    font-size: 13px;
    opacity: 0.9;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Platform Banner */
.platform-banner {
    background-color: var(--white);
    border-bottom: 1px solid var(--gray-200);
    padding: 16px 0;
    position: relative;
}

/* Tips Section */
.tips-section {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 1px solid #f59e0b;
    border-radius: var(--radius-lg);
    margin: 24px auto;
    padding: 24px;
    max-width: 1200px;
}

.tips-container {
    max-width: 800px;
    margin: 0 auto;
}

.tips-header h3 {
    font-size: 20px;
    font-weight: 700;
    color: #92400e;
    margin: 0 0 20px 0;
    text-align: center;
}

.tips-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.tips-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.tip-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px 16px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: var(--radius);
    border-left: 4px solid #f59e0b;
}

.tip-number {
    background: #f59e0b;
    color: white;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 700;
    flex-shrink: 0;
    margin-top: 2px;
}

.tip-text {
    font-size: 14px;
    line-height: 1.5;
    color: #92400e;
    font-weight: 500;
}

.tips-action {
    text-align: center;
    margin: 16px 0;
}

.practice-button {
    display: inline-block;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    padding: 12px 24px;
    border-radius: var(--radius);
    text-decoration: none;
    font-weight: 600;
    font-size: 16px;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
    transition: all 0.2s ease;
}

.practice-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(245, 158, 11, 0.4);
    color: white;
    text-decoration: none;
}

.tips-disclaimer {
    font-size: 11px;
    color: #a16207;
    text-align: center;
    opacity: 0.7;
    margin-top: 8px;
}

.platform-benefits {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 16px;
    width: 100%;
    max-width: 800px;
}

.benefit-item {
    font-size: 13px;
    color: var(--gray-700);
    line-height: 1.4;
    padding: 12px 16px;
    font-weight: 500;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    color: var(--gray-700);
    border-radius: 8px;
    border: 1px solid var(--gray-200);
    transition: all 0.2s ease;
    text-align: left;
    position: relative;
    overflow: hidden;
    word-wrap: break-word;
    white-space: normal;
}

.benefit-item::before {
    content: "âœ“";
    margin-right: 8px;
    color: var(--primary);
    font-weight: 600;
}

.benefit-item:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.benefit-item::after {
    content: "âœ¨";
    position: absolute;
    top: 8px;
    right: 10px;
    font-size: 10px;
    opacity: 0.6;
}

.discount-benefit {
    font-size: 14px;
    color: white;
    line-height: 1.4;
    padding: 12px 16px;
    font-weight: 600;
    background: linear-gradient(135deg, #ff4757 0%, #ff3742 100%);
    border-radius: 8px;
    border: 1px solid #ff3742;
    transition: all 0.2s ease;
    text-align: left;
    position: relative;
    overflow: hidden;
    word-wrap: break-word;
    white-space: normal;
    box-shadow: 0 2px 8px rgba(255, 71, 87, 0.3);
}

.discount-benefit::before {
    content: "ğŸ”¥";
    margin-right: 8px;
    font-weight: 600;
}

.discount-benefit:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 16px rgba(255, 71, 87, 0.4);
}

.discount-benefit::after {
    content: "âš¡";
    position: absolute;
    top: 8px;
    right: 10px;
    font-size: 12px;
    opacity: 0.8;
}

.platform-info {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.platform-details h3 {
    font-size: 18px;
    font-weight: 600;
    color: var(--gray-900);
    margin-bottom: 4px;
}

.platform-details p {
    font-size: 14px;
    color: var(--gray-600);
}

.platform-discount {
    display: flex;
    align-items: center;
    gap: 8px;
}

.discount-badge {
    background-color: var(--success);
    color: var(--white);
    padding: 4px 12px;
    border-radius: var(--radius-lg);
    font-size: 12px;
    font-weight: 600;
}

.discount-text {
    font-size: 14px;
    color: var(--gray-600);
}

/* Main Content */
.main-content {
    padding: 32px 0 64px;
}

.models-container {
    display: flex;
    flex-direction: column;
    gap: 32px;
}

.model-group {
    background-color: var(--white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow);
    overflow: hidden;
}

.model-header {
    background-color: var(--gray-50);
    padding: 20px 24px;
    border-bottom: 1px solid var(--gray-200);
}

.model-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--gray-900);
}

.model-items {
    display: flex;
    flex-direction: column;
}

.model-table-header {
    display: grid;
    grid-template-columns: 40px 1.5fr 1fr 1fr 1.2fr 1fr;
    align-items: center;
    padding: 12px 24px;
    background-color: var(--gray-100);
    border-bottom: 1px solid var(--gray-200);
    gap: 16px;
}

.header-cell {
    font-size: 12px;
    font-weight: 600;
    color: var(--gray-600);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.header-cell:not(:first-child) {
    text-align: center;
}

.model-item {
    display: grid;
    grid-template-columns: 40px 1.5fr 1fr 1fr 1.2fr 1fr;
    align-items: center;
    padding: 16px 24px;
    border-bottom: 1px solid var(--gray-100);
    gap: 16px;
    transition: background-color 0.2s ease;
}

.model-item:last-child {
    border-bottom: none;
}

.model-item:hover {
    background-color: var(--gray-50);
}

.model-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.model-name {
    font-size: 16px;
    font-weight: 500;
    color: var(--gray-900);
}

.model-specs {
    font-size: 13px;
    color: var(--gray-500);
}

.model-color {
    font-size: 14px;
    font-weight: 500;
    color: var(--gray-700);
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 8px;
    min-height: 32px;
    position: relative;
}

.model-color .color-chip {
    flex-shrink: 0;
    order: 1;
}

.model-color span {
    order: 2;
    flex: 1;
    text-align: left;
}

.color-chip {
    width: 16px;
    height: 16px;
    border-radius: 4px;
    border: 1px solid var(--gray-300);
    flex-shrink: 0;
}

/* Favorite Star */
.favorite-star {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.favorite-star:hover {
    background-color: var(--gray-100);
}

.star-icon {
    font-size: 18px;
    color: var(--gray-400);
    transition: color 0.2s ease;
}

.star-icon.filled {
    color: #fbbf24;
}

.star-icon:hover {
    color: #f59e0b;
}

/* Favorites Section */
.favorites-section {
    background-color: var(--white);
    border-bottom: 1px solid var(--gray-200);
    padding: 32px 0;
}

.favorites-container {
    display: flex;
    flex-direction: column;
}

.favorites-table-header {
    display: grid;
    grid-template-columns: 40px 1fr 1.5fr 1fr 1fr 1.2fr 1fr;
    align-items: center;
    padding: 12px 24px;
    background-color: var(--gray-100);
    border-bottom: 1px solid var(--gray-200);
    gap: 16px;
    border-radius: var(--radius) var(--radius) 0 0;
}

.favorite-item {
    background-color: var(--white);
    border-bottom: 1px solid var(--gray-100);
    padding: 16px 24px;
    display: grid;
    grid-template-columns: 40px 1fr 1.5fr 1fr 1fr 1.2fr 1fr;
    align-items: center;
    gap: 16px;
    transition: all 0.2s ease;
}

.favorite-item:last-child {
    border-bottom: none;
    border-radius: 0 0 var(--radius) var(--radius);
}

.favorite-item:hover {
    background-color: var(--white);
    box-shadow: var(--shadow-sm);
}

.favorite-item .favorite-star .star-icon {
    color: #fbbf24;
}

.favorite-item .favorite-star .star-icon.filled {
    color: #f59e0b;
}

.platform-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.platform-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--gray-700);
}

.discount-highlight {
    background: linear-gradient(135deg, #ff4757 0%, #ff3742 100%);
    color: white;
    padding: 16px 24px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 16px rgba(255, 71, 87, 0.25);
    margin-top: 20px;
    display: inline-block;
}

.discount-percentage {
    font-size: 32px;
    font-weight: 800;
    line-height: 1;
    margin-bottom: 4px;
}

.discount-label {
    font-size: 14px;
    font-weight: 600;
    opacity: 0.95;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.model-capacity {
    font-size: 14px;
    font-weight: 500;
    color: var(--gray-700);
    text-align: center;
}

.model-price {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
}

.original-price {
    font-size: 12px;
    color: var(--gray-400);
    text-decoration: line-through;
}

.discounted-price {
    font-size: 16px;
    font-weight: 600;
    color: var(--gray-900);
}

.price-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    margin-bottom: 4px;
}

.discount-tag {
    background: var(--gray-100);
    color: var(--gray-600);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    border: 1px solid var(--gray-200);
}

.discount-amount {
    font-size: 12px;
    color: var(--success);
    font-weight: 500;
}

.model-link {
    display: flex;
    justify-content: center;
}

.buy-button {
    background-color: var(--primary);
    color: var(--white);
    border: none;
    border-radius: var(--radius);
    padding: 8px 16px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease;
    min-width: 80px;
}

.buy-button:hover {
    background-color: var(--primary-hover);
}

.buy-button:disabled {
    background-color: var(--gray-300);
    color: var(--gray-500);
    cursor: not-allowed;
}

/* Footer */
.footer {
    background-color: var(--white);
    border-top: 1px solid var(--gray-200);
    padding: 24px 0;
    text-align: center;
}

.footer p {
    font-size: 12px;
    color: var(--gray-500);
}

/* Responsive Design */
@media (max-width: 768px) {
    .nav-container {
        flex-direction: column;
        height: auto;
        padding: 16px 24px;
        gap: 16px;
    }
    
    .platform-tabs {
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .platform-info {
        flex-direction: column;
        gap: 12px;
        text-align: center;
    }
    
    .platform-discount {
        justify-content: center;
    }
    
    .platform-benefits {
        grid-template-columns: 1fr;
        gap: 6px;
        margin: 12px 0;
        max-width: 100%;
    }
    
    .benefit-item {
        font-size: 12px;
        padding: 10px 12px;
        line-height: 1.3;
    }
    
    .discount-benefit {
        font-size: 13px;
        padding: 10px 12px;
        line-height: 1.3;
    }
    
    .update-content {
        flex-direction: column;
        text-align: center;
        gap: 8px;
    }
    
    .update-title {
        font-size: 15px;
    }
    
    .update-time {
        font-size: 12px;
    }
    
    .model-table-header {
        display: none;
    }
    
    .favorites-table-header {
        display: none;
    }
    
    .model-item {
        grid-template-columns: 1fr;
        gap: 12px;
        text-align: center;
        padding: 20px 16px;
    }
    
    .favorite-item {
        grid-template-columns: 1fr;
        gap: 12px;
        text-align: center;
        padding: 16px;
    }
    
    .model-color {
        justify-content: center;
    }
    
    .model-color span {
        text-align: center;
    }
    
    .platform-info {
        align-items: center;
    }
    
    .model-price {
        align-items: center;
    }
    
    .container {
        padding: 0 16px;
    }
}

@media (max-width: 480px) {
    .nav-title {
        font-size: 18px;
    }
    
    .platform-tab {
        padding: 6px 12px;
        font-size: 13px;
    }
    
    .model-header {
        padding: 16px 16px;
    }
    
    .model-title {
        font-size: 18px;
    }
    
    .model-item {
        padding: 16px 16px;
    }
}

/* Loading State */
.loading {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 40px 0;
}

.spinner {
    width: 24px;
    height: 24px;
    border: 2px solid var(--gray-200);
    border-top: 2px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Error State */
.error-message {
    background-color: var(--danger);
    color: var(--white);
    padding: 12px 16px;
    border-radius: var(--radius);
    font-size: 14px;
    font-weight: 500;
    margin: 16px 0;
    text-align: center;
}</style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script type="module">
      // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBowLQEQ-npKN95t0zyo4nzBYZE5NkhiWs",
    authDomain: "iphon17-4ad8c.firebaseapp.com",
    projectId: "iphon17-4ad8c",
    storageBucket: "iphon17-4ad8c.firebasestorage.app",
    messagingSenderId: "625003915804",
    appId: "1:625003915804:web:97608f00d45078ba1a4dd9",
    measurementId: "G-HX01MDN0VG"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  // add analytics event
  window.analytics = analytics;
    </script>
</head>
<body>
    <!-- Global Navigation -->
    <nav class="global-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <h1 class="nav-title">iPhone 17 ì‚¬ì „ì˜ˆì•½</h1>
            </div>
            <div class="nav-platforms">
                <div class="platform-tabs" id="platformTabs">
                    <!-- Platform tabs will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </nav>

    <!-- Update Banner -->
    <section class="update-banner">
        <div class="container">
            <div class="update-content">
                <div class="update-icon">ğŸ”„</div>
                <div class="update-text">
                    <div class="update-title">ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ìˆìŠµë‹ˆë‹¤!</div>
                    <div class="update-time">ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025ë…„ 9ì›” 21ì¼ 22:25</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Platform Info Banner -->
    <section class="platform-banner" id="platformBanner">
        <!-- Selected platform info will be shown here -->
    </section>

    <!-- Coupang Tips Section -->
    <section class="tips-section" id="tipsSection" style="display: none;">
        <div class="container">
            <!-- <div class="tips-container">
                <div class="tips-header">
                    <h3>ğŸ¯ ì¿ íŒ¡ ì‚¬ì „ì˜ˆì•½ ê¿€íŒ</h3>
                </div>
                <div class="tips-content">
                    <div class="tips-list">
                        <div class="tip-item">
                            <span class="tip-number">1</span>
                            <span class="tip-text">í˜„ì¬ ì•„ì´í°17ê³¼ ê°™ì´ ë‚˜ì˜¨ ì—ì–´íŒŸ í”„ë¡œ 3ì„¸ëŒ€ëŠ” í˜„ì¬ ì˜ˆì•½êµ¬ë§¤ê°€ ê°€ëŠ¥í•¨.</span>
                        </div>
                        <div class="tip-item">
                            <span class="tip-number">2</span>
                            <span class="tip-text">ì•„ì´í°17ë„ ê±°ì˜ ì—ì–´íŒŸ í”„ë¡œ 3ì„¸ëŒ€ì™€ ê±°ì˜ ë™ì¼í•œ êµ¬ë§¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°€ì§ˆê±°ì„.</span>
                        </div>
                        <div class="tip-item">
                            <span class="tip-number">3</span>
                            <span class="tip-text">ì—ì–´íŒŸ í”„ë¡œ 3ì„¸ëŒ€ ìƒí’ˆìœ¼ë¡œ ì‹¤ì œ êµ¬ë§¤ ì§ì „ê¹Œì§€ ì—°ìŠµí•´ë³´ì„¸ìš”!</span>
                        </div>
                        <div class="tip-item">
                            <span class="tip-number">4</span>
                            <span class="tip-text">ë°”ë¡œ ì˜ˆì•½ êµ¬ë§¤ë¥¼ ëˆ„ë¥¸ í›„ ê²°ì œìˆ˜ë‹¨, ë°°ì†¡ì§€ê°€ ì˜ ë“±ë¡ë˜ì–´ìˆì–´ì„œ ë°”ë¡œ ê²°ì œí•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê°€ëŠ¥í•œ ìƒíƒœì¸ì§€ í™•ì¸í•˜ê¸°!</span>
                        </div>
                    </div>
                    <div class="tips-action">
                        <a href="https://link.coupang.com/a/cQhRl9" target="_blank" class="practice-button">
                            ì‚¬ì „ì˜ˆì•½ ì—°ìŠµí•´ë³´ê¸° (ì—ì–´íŒŸ í”„ë¡œ 3ì„¸ëŒ€)
                        </a>
                    </div>
                    <div class="tips-disclaimer">
                        ì´ í¬ìŠ¤íŒ…ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ, ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.
                    </div>
                </div>
            </div> -->
        </div>
    </section>

    <!-- Favorites Section -->
    <section class="favorites-section" id="favoritesSection" style="display: none;">
        <div class="container">
            <h2 class="section-title">ì¦ê²¨ì°¾ê¸°</h2>
            <div class="favorites-container" id="favoritesContainer">
                <!-- Favorite items will be shown here -->
            </div>
        </div>
    </section>

    <!-- iPhone Models -->
    <main class="main-content">
        <div class="container">
            <div class="models-container" id="modelsContainer">
                <!-- Models will be dynamically loaded here -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 iPhone 17 ì‚¬ì „ì˜ˆì•½ ë¹„êµ. ëª¨ë“  ê°€ê²©ì€ ì°¸ê³ ìš©ì´ë©° ì‹¤ì œ ê°€ê²©ì€ ê° í”Œë«í¼ì—ì„œ í™•ì¸í•˜ì„¸ìš”.</p>
        </div>
    </footer>

    <script>// Global variables
let data = {};
let selectedPlatform = null;
let favorites = new Set();

// DOM elements
const platformTabs = document.getElementById('platformTabs');
const platformBanner = document.getElementById('platformBanner');
const modelsContainer = document.getElementById('modelsContainer');
const favoritesSection = document.getElementById('favoritesSection');
const favoritesContainer = document.getElementById('favoritesContainer');

// Initialize the app
document.addEventListener('DOMContentLoaded', async () => {
    try {
        await loadData();
        loadFavorites();
        renderPlatformTabs();
        // Select the first platform by default
        const firstPlatform = Object.keys(data.platforms)[0];
        selectPlatform(firstPlatform);
        renderFavorites();
        setupAnalyticsEvents();
    } catch (error) {
        console.error('Failed to initialize app:', error);
        showError('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
});

// Setup analytics events
function setupAnalyticsEvents() {
    // Practice button click event
    const practiceButton = document.querySelector('.practice-button');
    if (practiceButton) {
        practiceButton.addEventListener('click', function() {
            if (window.analytics) {
                window.analytics.logEvent('cp_click', { 
                    page_path: window.location.pathname 
                });
            }
        });
    }
}

// Load data from JSON file
async function loadData() {
    try {
        data = {
  "platforms": {
    "coupang": {
      "name": "ì¿ íŒ¡",
      "discount": 0,
      "benefits": [
        "ë¡œì¼“ë°°ì†¡"
      ],
      "links": {
        "iphone17": {
          "256": {
            "ë¼ë²¤ë”": "https://www.coupang.com/vp/products/9024167492?itemId=26462329860&vendorItemId=93437609240",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167492?itemId=26462329857&vendorItemId=93437609261",
            "ë¸”ë™": "https://www.coupang.com/vp/products/9024167492?itemId=26462329853&vendorItemId=93437609238",
            "ì„¸ì´ì§€": "https://www.coupang.com/vp/products/9024167492?itemId=26462329864&vendorItemId=93437609244",
            "í™”ì´íŠ¸": "https://www.coupang.com/vp/products/9024167492?itemId=26462329849&vendorItemId=93437609262"
          },
          "512": {
            "ë¼ë²¤ë”": "https://www.coupang.com/vp/products/9024167492?itemId=26462329877&vendorItemId=93437609242",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167492?itemId=26462329873&vendorItemId=93437609237",
            "ë¸”ë™": "https://www.coupang.com/vp/products/9024167492?itemId=26462329870&vendorItemId=93437609243",
            "ì„¸ì´ì§€": "https://www.coupang.com/vp/products/9024167492?itemId=26462329880&vendorItemId=93437609283",
            "í™”ì´íŠ¸": "https://www.coupang.com/vp/products/9024167492?itemId=26462329867&vendorItemId=93437609248"
          }
        },
        "iphoneair": {
          "256": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.coupang.com/vp/products/9024167552?itemId=26462330161&vendorItemId=93437609624",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167552?itemId=26462330164&vendorItemId=93437609613",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.coupang.com/vp/products/9024167552?itemId=26462330155&vendorItemId=93437609609",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.coupang.com/vp/products/9024167552?itemId=26462330152&vendorItemId=93437609622"
          },
          "512": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.coupang.com/vp/products/9024167552?itemId=26462330173&vendorItemId=93437609612",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167552?itemId=26462330176&vendorItemId=93437609615",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.coupang.com/vp/products/9024167552?itemId=26462330167&vendorItemId=93437609610",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.coupang.com/vp/products/9024167552?itemId=26462330171&vendorItemId=93437609616"
          },
          "1024": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.coupang.com/vp/products/9024167552?itemId=26462330182&vendorItemId=93437609614",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167552?itemId=26462330183&vendorItemId=93437609620",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.coupang.com/vp/products/9024167552?itemId=26462330178&vendorItemId=93437609618",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.coupang.com/vp/products/9024167552?itemId=26462330180&vendorItemId=93437609611"
          }
        },
        "iphone17pro": {
          "256": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167576?itemId=26462330288&vendorItemId=93437609644",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167576?itemId=26462330287&vendorItemId=93437609640",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167576?itemId=26462330290&vendorItemId=93437609641"
          },
          "512": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167576?itemId=26462330295&vendorItemId=93437609654",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167576?itemId=26462330292&vendorItemId=93437609653",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167576?itemId=26462330294&vendorItemId=93437609643"
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167576?itemId=26462330305&vendorItemId=93437609646",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167576?itemId=26462330301&vendorItemId=93437609649",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167576?itemId=26462330303&vendorItemId=93437609645"
          }
        },
        "iphone17promax": {
          "256": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167604?itemId=26462330375&vendorItemId=93437609814",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167604?itemId=26462330372&vendorItemId=93437609809",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167604?itemId=26462330377&vendorItemId=93437609812"
          },
          "512": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167604?itemId=26462330386&vendorItemId=93437609811",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167604?itemId=26462330382&vendorItemId=93437609830",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167604?itemId=26462330388&vendorItemId=93437609819"
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167604?itemId=26462330398&vendorItemId=93437609856",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167604?itemId=26462330393&vendorItemId=93437609820",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167604?itemId=26462330396&vendorItemId=93437609818"
          },
          "2048": {
            "ë”¥ë¸”ë£¨": "https://www.coupang.com/vp/products/9024167604?itemId=26462330402&vendorItemId=93437609823",
            "ì‹¤ë²„": "https://www.coupang.com/vp/products/9024167604?itemId=26462330400&vendorItemId=93437609844",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.coupang.com/vp/products/9024167604?itemId=26462330401&vendorItemId=93437609851"
          }
        }
      }
    },
    "11st": {
      "name": "11ë²ˆê°€",
      "discount": 0,
      "benefits": [],
      "links": {
        "iphone17": {
          "256": {
            "ë¼ë²¤ë”": "https://www.11st.co.kr/products/pa/8652552455",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552456",
            "ë¸”ë™": "https://www.11st.co.kr/products/pa/8652552473",
            "ì„¸ì´ì§€": "https://www.11st.co.kr/products/pa/8652552562",
            "í™”ì´íŠ¸": "https://www.11st.co.kr/products/pa/8652552453"
          },
          "512": {
            "ë¼ë²¤ë”": "https://www.11st.co.kr/products/pa/8652552648",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552544",
            "ë¸”ë™": "https://www.11st.co.kr/products/pa/8652552555",
            "ì„¸ì´ì§€": "https://www.11st.co.kr/products/pa/8652552635",
            "í™”ì´íŠ¸": "https://www.11st.co.kr/products/pa/8652552575"
          }
        },
        "iphoneair": {
          "256": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.11st.co.kr/products/pa/8652553130",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652553135",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.11st.co.kr/products/pa/8652553074",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.11st.co.kr/products/pa/8652553127"
          },
          "512": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.11st.co.kr/products/pa/8652553192",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652553195",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.11st.co.kr/products/pa/8652553142",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.11st.co.kr/products/pa/8652553191"
          },
          "1024": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.11st.co.kr/products/pa/8652553300",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652553310",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.11st.co.kr/products/pa/8652553209",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.11st.co.kr/products/pa/8652553296"
          }
        },
        "iphone17pro": {
          "256": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552728",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652552645",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652552651"
          },
          "512": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552735",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652552725",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652552736"
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552798",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652552789",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652552793"
          }
        },
        "iphone17promax": {
          "256": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552877",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652552801",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652552882"
          },
          "512": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552949",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652552874",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652552878"
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652552960",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652552950",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652552954"
          },
          "2048": {
            "ë”¥ë¸”ë£¨": "https://www.11st.co.kr/products/pa/8652553064",
            "ì‹¤ë²„": "https://www.11st.co.kr/products/pa/8652553043",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.11st.co.kr/products/pa/8652553049"
          }
        }
      }
    },
    "aestore": {
      "name": "ì—ì´ìŠ¤í† ì–´",
      "discount": 0,
      "benefits": [
        "ë¬´ì´ì 10ê°œì›” ì¹´ë“œ(ì´ë§ˆíŠ¸e, KBêµ­ë¯¼, ì‹ í•œ, í˜„ëŒ€, ë¡¯ë°, í•˜ë‚˜ - ë‹¨ì¼ í’ˆëª© 50ë§Œì› ì´ìƒ ê²°ì œ ì‹œ)",
        "ë¬´ì´ì 18ê°œì›” ì¹´ë“œ(ì´ë§ˆíŠ¸e, ì‚¼ì„±, KBêµ­ë¯¼, ì‹ í•œ, í˜„ëŒ€, ë¡¯ë°, í•˜ë‚˜ - ë‹¨ì¼ í’ˆëª© 120ë§Œì› ì´ìƒ ê²°ì œ ì‹œ)",
        "ì•„ì´í° 17 ì‹œë¦¬ì¦ˆ + í´ë¦¬ì–´ ì¼€ì´ìŠ¤ ë™ì‹œ êµ¬ë§¤ì‹œ, í´ë¦¬ì–´ ì¼€ì´ìŠ¤ 100ì› (17airëŠ” í”„ë¡œìŠ¤íŠ¸ì¼€ì´ìŠ¤ë¡œ êµ¬ë§¤ê°€ëŠ¥)",
        "Apple Care+ ê²°ì œì‹œ 20% í• ì¸"
      ],
      "links": {
        "iphone17": {
          "256": {
            "ë¼ë²¤ë”": "",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "",
            "ë¸”ë™": "",
            "ì„¸ì´ì§€": "",
            "í™”ì´íŠ¸": ""
          },
          "512": {
            "ë¼ë²¤ë”": "",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "",
            "ë¸”ë™": "",
            "ì„¸ì´ì§€": "",
            "í™”ì´íŠ¸": ""
          }
        },
        "iphoneair": {
          "256": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": ""
          },
          "512": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": ""
          },
          "1024": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": ""
          }
        },
        "iphone17pro": {
          "256": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          },
          "512": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          }
        },
        "iphone17promax": {
          "256": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          },
          "512": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          },
          "2048": {
            "ë”¥ë¸”ë£¨": "",
            "ì‹¤ë²„": "",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": ""
          }
        }
      }
    },
    "apple": {
      "name": "Apple Store",
      "discount": 0,
      "benefits": [
        "í• ì¸ ì—†ìŒ"
      ],
      "links": {
        "iphone17": {
          "256": {
            "ë¼ë²¤ë”": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-256gb-ë¼ë²¤ë”",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-256gb-ë¯¸ìŠ¤íŠ¸-ë¸”ë£¨",
            "ë¸”ë™": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-256gb-ë¸”ë™",
            "ì„¸ì´ì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-256gb-ì„¸ì´ì§€",
            "í™”ì´íŠ¸": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-256gb-í™”ì´íŠ¸"
          },
          "512": {
            "ë¼ë²¤ë”": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-512gb-ë¼ë²¤ë”",
            "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-512gb-ë¯¸ìŠ¤íŠ¸-ë¸”ë£¨",
            "ë¸”ë™": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-512gb-ë¸”ë™",
            "ì„¸ì´ì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-512gb-ì„¸ì´ì§€",
            "í™”ì´íŠ¸": "https://www.apple.com/kr/shop/buy-iphone/iphone-17/15.9cm-ë””ìŠ¤í”Œë ˆì´-512gb-í™”ì´íŠ¸"
          }
        },
        "iphoneair": {
          "256": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EB%9D%BC%EC%9D%B4%ED%8A%B8-%EA%B3%A8%EB%93%9C",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EC%8A%A4%EC%B9%B4%EC%9D%B4-%EB%B8%94%EB%A3%A8",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B8%94%EB%9E%99",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%ED%99%94%EC%9D%B4%ED%8A%B8"
          },
          "512": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EB%9D%BC%EC%9D%B4%ED%8A%B8-%EA%B3%A8%EB%93%9C",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EC%8A%A4%EC%B9%B4%EC%9D%B4-%EB%B8%94%EB%A3%A8",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B8%94%EB%9E%99",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%ED%99%94%EC%9D%B4%ED%8A%B8"
          },
          "1024": {
            "ë¼ì´íŠ¸ ê³¨ë“œ": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EB%9D%BC%EC%9D%B4%ED%8A%B8-%EA%B3%A8%EB%93%9C",
            "ìŠ¤ì¹´ì´ ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EC%8A%A4%EC%B9%B4%EC%9D%B4-%EB%B8%94%EB%A3%A8",
            "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B8%94%EB%9E%99",
            "í´ë¼ìš°ë“œ í™”ì´íŠ¸": "https://www.apple.com/kr/shop/buy-iphone/iphone-air/6.5%ED%98%95-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%ED%99%94%EC%9D%B4%ED%8A%B8"
          }
        },
        "iphone17pro": {
          "256": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          },
          "512": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/15.9cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          }
        },
        "iphone17promax": {
          "256": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-256gb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          },
          "512": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-512gb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          },
          "1024": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-1tb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          },
          "2048": {
            "ë”¥ë¸”ë£¨": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-2tb-%EB%94%A5-%EB%B8%94%EB%A3%A8",
            "ì‹¤ë²„": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-2tb-%EC%8B%A4%EB%B2%84",
            "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€": "https://www.apple.com/kr/shop/buy-iphone/iphone-17-pro/17.4cm-%EB%94%94%EC%8A%A4%ED%94%8C%EB%A0%88%EC%9D%B4-2tb-%EC%BD%94%EC%8A%A4%EB%AF%B9-%EC%98%A4%EB%A0%8C%EC%A7%80"
          }
        }
      }
    }
  },
  "prices": {
    "iphone17": {
      "256": 1290000,
      "512": 1590000
    },
    "iphoneair": {
      "256": 1590000,
      "512": 1890000,
      "1024": 2190000
    },
    "iphone17pro": {
      "256": 1790000,
      "512": 2090000,
      "1024": 2390000
    },
    "iphone17promax": {
      "256": 1990000,
      "512": 2290000,
      "1024": 2590000,
      "2048": 3190000
    }
  },
  "models": {
    "iphone17": {
      "name": "iPhone 17",
      "colors": [
        "ë¼ë²¤ë”",
        "ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨",
        "ë¸”ë™",
        "ì„¸ì´ì§€",
        "í™”ì´íŠ¸"
      ],
      "capacities": [
        "256",
        "512"
      ]
    },
    "iphoneair": {
      "name": "iPhone Air",
      "colors": [
        "ë¼ì´íŠ¸ ê³¨ë“œ",
        "ìŠ¤ì¹´ì´ ë¸”ë£¨",
        "ìŠ¤í˜ì´ìŠ¤ ë¸”ë™",
        "í´ë¼ìš°ë“œ í™”ì´íŠ¸"
      ],
      "capacities": [
        "256",
        "512",
        "1024"
      ]
    },
    "iphone17pro": {
      "name": "iPhone 17 Pro",
      "colors": [
        "ë”¥ë¸”ë£¨",
        "ì‹¤ë²„",
        "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€"
      ],
      "capacities": [
        "256",
        "512",
        "1024"
      ]
    },
    "iphone17promax": {
      "name": "iPhone 17 Pro Max",
      "colors": [
        "ë”¥ë¸”ë£¨",
        "ì‹¤ë²„",
        "ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€"
      ],
      "capacities": [
        "256",
        "512",
        "1024",
        "2048"
      ]
    }
  }
};
    } catch (error) {
        console.error('Error loading data:', error);
        throw error;
    }
}

// Render platform tabs in navigation
function renderPlatformTabs() {
    platformTabs.innerHTML = '';
    
    Object.entries(data.platforms).forEach(([platformId, platform]) => {
        const tab = document.createElement('button');
        tab.className = 'platform-tab';
        tab.dataset.platform = platformId;
        tab.textContent = platform.name;
        
        tab.addEventListener('click', () => selectPlatform(platformId));
        platformTabs.appendChild(tab);
    });
}

// Select a platform
function selectPlatform(platformId) {
    // Update selected platform
    selectedPlatform = platformId;
    
    // Update active state
    document.querySelectorAll('.platform-tab').forEach(tab => {
        tab.classList.remove('active');
        if (tab.dataset.platform === platformId) {
            tab.classList.add('active');
        }
    });
    
    // Show platform info
    showPlatformBanner(platformId);
    
    // Render models with selected platform
    renderModels();
    
    // Update favorites with new platform pricing
    renderFavorites();
}

// Show platform banner
function showPlatformBanner(platformId) {
    const platform = data.platforms[platformId];
    
    platformBanner.innerHTML = `
        <div class="platform-info">
            <div class="platform-details">
                <h3>${platform.name}</h3>
                ${platform.benefits && platform.benefits.length > 0 ? `
            <div class="platform-benefits">
                ${platform.discount > 0 ? `<div class="discount-benefit">${platform.discount}% í• ì¸ í˜œíƒ</div>` : ''}
                ${platform.benefits.map(benefit => `<div class="benefit-item">${benefit}</div>`).join('')}
            </div>
                ` : ''}
            </div>
        </div>
    `;
    
    // Show tips section only for Coupang
    const tipsSection = document.getElementById('tipsSection');
    if (platformId === 'coupang') {
        tipsSection.style.display = 'block';
    } else {
        tipsSection.style.display = 'none';
    }
}

// Render iPhone models
function renderModels() {
    if (!selectedPlatform) return;
    
    modelsContainer.innerHTML = '';
    
    Object.entries(data.models).forEach(([modelId, model]) => {
        const modelGroup = document.createElement('div');
        modelGroup.className = 'model-group';
        
        const modelItems = generateModelItems(modelId, model);
        
        modelGroup.innerHTML = `
            <div class="model-header">
                <h3 class="model-title">${model.name}</h3>
            </div>
            <div class="model-items">
                <div class="model-table-header">
                    <div class="header-cell"></div>
                    <div class="header-cell">ëª¨ë¸ ì •ë³´</div>
                    <div class="header-cell">ìƒ‰ìƒ</div>
                    <div class="header-cell">ìš©ëŸ‰</div>
                    <div class="header-cell">ê°€ê²©</div>
                    <div class="header-cell">êµ¬ë§¤</div>
                </div>
                ${modelItems}
            </div>
        `;
        
        modelsContainer.appendChild(modelGroup);
    });
}

// Generate model items HTML
function generateModelItems(modelId, model) {
    let itemsHTML = '';
    
    // Create array of all combinations and sort them
    const combinations = [];
    model.capacities.forEach(capacity => {
        model.colors.forEach(color => {
            combinations.push({ capacity, color });
        });
    });
    
    // Sort by capacity (ascending) then by color name (alphabetical)
    combinations.sort((a, b) => {
        const capacityA = parseInt(a.capacity);
        const capacityB = parseInt(b.capacity);
        
        if (capacityA !== capacityB) {
            return capacityA - capacityB; // Sort by capacity ascending
        }
        return a.color.localeCompare(b.color, 'ko'); // Then by color name
    });
    
    // Generate HTML for sorted combinations
    combinations.forEach(({ capacity, color }) => {
        const originalPrice = data.prices[modelId][capacity];
        const discount = data.platforms[selectedPlatform].discount;
        const discountedPrice = Math.round(originalPrice * (100 - discount) / 100);
        const discountAmount = originalPrice - discountedPrice;
        const link = getProductLink(modelId, capacity, color);
        
        const isFav = isFavorite(modelId, capacity, color);
        
        itemsHTML += `
            <div class="model-item">
                <div class="favorite-star" onclick="toggleFavorite('${modelId}', '${capacity}', '${color}')">
                    <span class="star-icon ${isFav ? 'filled' : ''}">${isFav ? 'â˜…' : 'â˜†'}</span>
                </div>
                <div class="model-info">
                    <div class="model-name">${model.name}</div>
                </div>
                <div class="model-color">
                    <div class="color-chip" style="background-color: ${getColorHex(color)}"></div>
                    <span>${color}</span>
                </div>
                <div class="model-capacity">${formatCapacity(capacity)}</div>
                <div class="model-price">
                    ${discount > 0 ? `
                        <div class="price-header">
                            <div class="original-price">â‚©${formatPrice(originalPrice)}</div>
                            <div class="discount-tag">${discount}%</div>
                        </div>
                        <div class="discount-amount">-â‚©${formatPrice(discountAmount)}</div>
                    ` : ''}
                    <div class="discounted-price">â‚©${formatPrice(discountedPrice)}</div>
                </div>
                <div class="model-link">
                    ${link && link.trim() !== '' ? 
                        `<a href="${link}" target="_blank" class="buy-button">êµ¬ë§¤í•˜ê¸°</a>` : 
                        `<button class="buy-button" disabled>ë§í¬ ì°¾ëŠ”ì¤‘</button>`
                    }
                </div>
            </div>
        `;
    });
    
    return itemsHTML;
}

// Get product link for specific model, capacity, and color
function getProductLink(modelId, capacity, color) {
    try {
        const platformLinks = data.platforms[selectedPlatform].links;
        return platformLinks[modelId]?.[capacity]?.[color] || null;
    } catch (error) {
        console.error('Error getting product link:', error);
        return null;
    }
}

// Get product link for specific platform, model, capacity, and color
function getProductLinkForPlatform(platformId, modelId, capacity, color) {
    try {
        const platformLinks = data.platforms[platformId].links;
        return platformLinks[modelId]?.[capacity]?.[color] || null;
    } catch (error) {
        console.error('Error getting product link:', error);
        return null;
    }
}

// Toggle favorite from favorites section
function toggleFavoriteFromFavorites(platformId, modelId, capacity, color) {
    const favoriteKey = `${platformId}-${modelId}-${capacity}-${color}`;
    
    if (favorites.has(favoriteKey)) {
        favorites.delete(favoriteKey);
    } else {
        favorites.add(favoriteKey);
    }
    
    saveFavorites();
    renderFavorites();
    renderModels(); // Re-render models to update star icons
}

// Format price with thousands separator
function formatPrice(price) {
    return price.toLocaleString('ko-KR');
}

// Format capacity display
function formatCapacity(capacity) {
    const capacityMap = {
        '1024': '1TB',
        '2048': '2TB'
    };
    return capacityMap[capacity] || `${capacity}GB`;
}

// Get color hex code for color chip
function getColorHex(colorName) {
    const colorMap = {
        // iPhone 17 colors
        'ë¼ë²¤ë”': '#E6E6FA',
        'ë¯¸ìŠ¤íŠ¸ ë¸”ë£¨': '#B0E0E6',
        'ë¸”ë™': '#000000',
        'ì„¸ì´ì§€': '#9CAF88',
        'í™”ì´íŠ¸': '#FFFFFF',
        
        // iPhone Air colors
        'ë¼ì´íŠ¸ ê³¨ë“œ': '#F5E6D3',
        'ìŠ¤ì¹´ì´ ë¸”ë£¨': '#87CEEB',
        'ìŠ¤í˜ì´ìŠ¤ ë¸”ë™': '#1C1C1E',
        'í´ë¼ìš°ë“œ í™”ì´íŠ¸': '#F8F8FF',
        
        // iPhone 17 Pro colors
        'ë”¥ë¸”ë£¨': '#003A6B',
        'ì‹¤ë²„': '#C0C0C0',
        'ì½”ìŠ¤ë¯¹ ì˜¤ë Œì§€': '#FF6B35'
    };
    
    return colorMap[colorName] || '#CCCCCC';
}

// Load favorites from localStorage
function loadFavorites() {
    const savedFavorites = localStorage.getItem('iphone17-favorites');
    if (savedFavorites) {
        favorites = new Set(JSON.parse(savedFavorites));
    }
}

// Save favorites to localStorage
function saveFavorites() {
    localStorage.setItem('iphone17-favorites', JSON.stringify([...favorites]));
}

// Toggle favorite status
function toggleFavorite(modelId, capacity, color) {
    const favoriteKey = `${selectedPlatform}-${modelId}-${capacity}-${color}`;
    
    if (favorites.has(favoriteKey)) {
        favorites.delete(favoriteKey);
    } else {
        favorites.add(favoriteKey);
    }
    
    saveFavorites();
    renderFavorites();
    renderModels(); // Re-render models to update star icons
}

// Check if item is favorite
function isFavorite(modelId, capacity, color) {
    const favoriteKey = `${selectedPlatform}-${modelId}-${capacity}-${color}`;
    return favorites.has(favoriteKey);
}

// Render favorites section
function renderFavorites() {
    if (favorites.size === 0) {
        favoritesSection.style.display = 'none';
        return;
    }
    
    favoritesSection.style.display = 'block';
    favoritesContainer.innerHTML = `
        <div class="favorites-table-header">
            <div class="header-cell"></div>
            <div class="header-cell">í”Œë«í¼</div>
            <div class="header-cell">ëª¨ë¸ ì •ë³´</div>
            <div class="header-cell">ìƒ‰ìƒ</div>
            <div class="header-cell">ìš©ëŸ‰</div>
            <div class="header-cell">ê°€ê²©</div>
            <div class="header-cell">êµ¬ë§¤</div>
        </div>
    `;
    
    favorites.forEach(favoriteKey => {
        const [platformId, modelId, capacity, color] = favoriteKey.split('-');
        const platform = data.platforms[platformId];
        const model = data.models[modelId];
        const originalPrice = data.prices[modelId][capacity];
        const discount = platform.discount;
        const discountedPrice = Math.round(originalPrice * (100 - discount) / 100);
        const discountAmount = originalPrice - discountedPrice;
        const link = getProductLinkForPlatform(platformId, modelId, capacity, color);
        
        const favoriteItem = document.createElement('div');
        favoriteItem.className = 'favorite-item';
        favoriteItem.innerHTML = `
            <div class="favorite-star" onclick="toggleFavoriteFromFavorites('${platformId}', '${modelId}', '${capacity}', '${color}')">
                <span class="star-icon filled">â˜…</span>
            </div>
            <div class="platform-info">
                <div class="platform-name">${platform.name}</div>
            </div>
            <div class="model-info">
                <div class="model-name">${model.name}</div>
            </div>
            <div class="model-color">
                <div class="color-chip" style="background-color: ${getColorHex(color)}"></div>
                <span>${color}</span>
            </div>
            <div class="model-capacity">${formatCapacity(capacity)}</div>
            <div class="model-price">
                ${discount > 0 ? `
                    <div class="price-header">
                        <div class="original-price">â‚©${formatPrice(originalPrice)}</div>
                        <div class="discount-tag">${discount}%</div>
                    </div>
                    <div class="discount-amount">-â‚©${formatPrice(discountAmount)}</div>
                ` : ''}
                <div class="discounted-price">â‚©${formatPrice(discountedPrice)}</div>
            </div>
            <div class="model-link">
                ${link && link.trim() !== '' ? 
                    `<a href="${link}" target="_blank" class="buy-button">êµ¬ë§¤í•˜ê¸°</a>` : 
                    `<button class="buy-button" disabled>ë§í¬ ì°¾ëŠ”ì¤‘</button>`
                }
            </div>
        `;
        
        favoritesContainer.appendChild(favoriteItem);
    });
}

// Show error message
function showError(message) {
    const errorDiv = document.createElement('div');
    errorDiv.className = 'error-message';
    errorDiv.textContent = message;
    
    document.body.insertBefore(errorDiv, document.body.firstChild);
    
    setTimeout(() => {
        errorDiv.remove();
    }, 5000);
}

// Add keyboard navigation
document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
        const platforms = Object.keys(data.platforms);
        const currentIndex = platforms.indexOf(selectedPlatform);
        
        let newIndex;
        if (e.key === 'ArrowLeft') {
            newIndex = currentIndex > 0 ? currentIndex - 1 : platforms.length - 1;
        } else {
            newIndex = currentIndex < platforms.length - 1 ? currentIndex + 1 : 0;
        }
        
        selectPlatform(platforms[newIndex]);
    }
});</script>
</body>
</html>
